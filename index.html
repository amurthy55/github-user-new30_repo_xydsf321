<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub User Lookup</title>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('github-form');
            const status = document.getElementById('github-status');
            const accountAge = document.getElementById('github-account-age');
            const usernameInput = document.getElementById('github-username');
            const seed = usernameInput.value;

            // Load cached username
            const cachedUser = localStorage.getItem(`github-user-${seed}`);
            if (cachedUser) {
                usernameInput.value = cachedUser;
            }

            form.addEventListener('submit', async (event) => {
                event.preventDefault();
                status.textContent = 'Looking up user...';
                status.setAttribute('aria-live', 'polite');

                try {
                    const response = await fetch(`https://api.github.com/users/${usernameInput.value}`);
                    if (!response.ok) throw new Error('User not found');
                    const data = await response.json();
                    const createdAt = new Date(data.created_at);
                    const accountYears = new Date().getFullYear() - createdAt.getFullYear();
                    accountAge.textContent = `${accountYears} years (${createdAt.toDateString()})`;
                    status.textContent = 'User found!';
                    // Cache successful lookup
                    localStorage.setItem(`github-user-${usernameInput.value}`, JSON.stringify(data));
                } catch (error) {
                    status.textContent = 'Lookup failed!';
                }
            });
        });
    </script>
</head>
<body>
    <h1>GitHub User Lookup</h1>
    <div id="github-status" aria-live="polite"></div>
    <form id="github-form">
        <input type="text" id="github-username" placeholder="Enter GitHub username" required>
        <button type="submit">Lookup</button>
    </form>
    <div id="github-account-age"></div>
</body>
</html>